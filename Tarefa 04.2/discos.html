<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="discos.js" type="text/javascript"></script>

    <script>
        const addDisco= () => {
            this.event.preventDefault();
            let nombre = document.getElementById("nombre").value;
            let grupo = document.getElementById("grupo").value;
            let ano = document.getElementById("ano").value;
            let genero = document.getElementById("generos").value;
            let prestado = document.getElementById("prestado").checked;

            let nuevoDisco = new Disco(nombre,grupo,ano,genero,prestado);
            
            Disco.discosTodos.push(nuevoDisco);

            document.getElementById("discografia").innerHTML=Disco.mostrarTodos();
        }
    </script>

    <title>Discos</title>
</head>
<body>
    <h1>Discos</h1>
    <h2>Añadir disco</h2>
    <form onsubmit="addDisco()">
        <label for="nombre">Nombre:</label>
        <input type="text" id="nombre" name="nombre"/>

        <label for="grupo">Grupo:</label>
        <input type="text" id="grupo" name="grupo"/>

        <label for="ano">Año:</label>
        <input type="number" id="ano" name="ano" value="1900"/>

        <label for="generos">Tipo:</label>
        <select id="generos" name="generos">
        </select>

        <script>
            //Rellena el Select de géneros musicales
            let generos = document.getElementById('generos');
            TIPOSMUSICA.forEach(genero => {
                generos.innerHTML = generos.innerHTML + `<option name="${genero}" value="${genero}">${genero}</option>`;
            });
        </script>
        
        <label for="prestado">Prestado:</label>
        <input type="checkbox" id="prestado" name="prestado"/>

        <input type="submit" value="Añadir">
        
    </form>
    
    <h2>Discografía</h2>
    <div id="discografia"></div>
    
</body>
</html>
